System.register(["./p-bda334d9.system.js","./p-50f9a219.system.js"],(function(e){"use strict";var t,n,r,i,o;return{setters:[function(e){t=e.r;n=e.h;r=e.H},function(e){i=e.c;o=e.a}],execute:function(){var s=i((function(e,t){(function(t,n){e.exports=n()})(o,(function(){function e(e,t){var n=new XMLHttpRequest;n.addEventListener("load",(function(){t(n.responseText)}));n.open(e.method,e.url);Object.keys(e.headers).forEach((function(t){n.setRequestHeader(t,e.headers[t])}));n.send(e.body)}var t={storage:{},memory:true,get:function e(t){var n=void 0;try{n=window.localStorage&&window.localStorage.getItem(t)||this.storage[t]}catch(r){n=this.storage[t]}if(n){try{return JSON.parse(n)}catch(r){return undefined}}else{return undefined}},set:function e(t,n){n=JSON.stringify(n);try{window.localStorage.setItem(t,n)}catch(r){if(!this.memory){console.error("setting local storage failed, falling back to in-memory storage");this.memory=true}this.storage[t]=n}},delete:function e(t){try{window.localStorage.removeItem(t)}catch(n){if(!this.memory){console.error("setting local storage failed, falling back to in-memory storage");this.memory=true}delete this.storage[t]}}};var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var s="TELEMETRY_COGNITO_CREDENTIALS";var a="https://cognito-identity.us-east-1.amazonaws.com/";function u(e,n){var r=t.get(s);if(r&&Date.now()/1e3<r.Expiration)return n(r);c(e,(function(e){t.set(s,e);n(e)}))}function c(t,n){var r=o({},f);r.headers["X-Amz-Target"]="AWSCognitoIdentityService.GetId";r.body=JSON.stringify({IdentityPoolId:t});e(r,(function(e){l(JSON.parse(e),n)}))}function l(t,n){var r=o({},f);r.headers["X-Amz-Target"]="AWSCognitoIdentityService.GetCredentialsForIdentity";r.body=JSON.stringify({IdentityId:t.IdentityId});e(r,(function(e){var t=JSON.parse(e);n(t.Credentials)}))}var f={method:"POST",url:a,headers:{"Content-type":"application/x-amz-json-1.1"}};var h=30*60*1e3;var d="TELEMETRY_SESSION";var g="TELEMETRY_CLIENT_ID";function p(){return{session:y(),id:v()}}function y(){var e=void 0;var n=t.get(d);if(!n||Date.now()>n.expiration){e=true;n=m()}n.expiration=Date.now()+h;t.set(d,n);if(e)n.new=true;return n}function v(){var e=t.get(g);if(!e){e=w();t.set(g,e)}return e}function m(){return{id:Math.floor((1+Math.random())*17592186044416).toString(16),startTimestamp:(new Date).toISOString()}}function w(){return S()+S()+"-"+S()+"-"+S()+"-"+S()+"-"+S()+S()+S()}function S(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}var k=function(e,t){var n={},r=n.lib={},i=function e(){},o=r.Base={extend:function e(t){i.prototype=this;var n=new i;t&&n.mixIn(t);n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)});n.init.prototype=n;n.$super=this;return n},create:function e(){var t=this.extend();t.init.apply(t,arguments);return t},init:function e(){},mixIn:function e(t){for(var n in t){t.hasOwnProperty(n)&&(this[n]=t[n])}t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function e(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function e(n,r){n=this.words=n||[];this.sigBytes=r!=t?r:4*n.length},toString:function e(t){return(t||u).stringify(this)},concat:function e(t){var n=this.words,r=t.words,i=this.sigBytes;t=t.sigBytes;this.clamp();if(i%4)for(var o=0;o<t;o++){n[i+o>>>2]|=(r[o>>>2]>>>24-8*(o%4)&255)<<24-8*((i+o)%4)}else if(r.length>65535)for(o=0;o<t;o+=4){n[i+o>>>2]=r[o>>>2]}else n.push.apply(n,r);this.sigBytes+=t;return this},clamp:function t(){var n=this.words,r=this.sigBytes;n[r>>>2]&=4294967295<<32-8*(r%4);n.length=e.ceil(r/4)},clone:function e(){var t=o.clone.call(this);t.words=this.words.slice(0);return t},random:function t(n){for(var r=[],i=0;i<n;i+=4){r.push(4294967296*e.random()|0)}return new s.init(r,n)}}),a=n.enc={},u=a.Hex={stringify:function e(t){var n=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++){var o=n[i>>>2]>>>24-8*(i%4)&255;r.push((o>>>4).toString(16));r.push((o&15).toString(16))}return r.join("")},parse:function e(t){for(var n=t.length,r=[],i=0;i<n;i+=2){r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-4*(i%8)}return new s.init(r,n/2)}},c=a.Latin1={stringify:function e(t){var n=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++){r.push(String.fromCharCode(n[i>>>2]>>>24-8*(i%4)&255))}return r.join("")},parse:function e(t){for(var n=t.length,r=[],i=0;i<n;i++){r[i>>>2]|=(t.charCodeAt(i)&255)<<24-8*(i%4)}return new s.init(r,n)}},l=a.Utf8={stringify:function e(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function e(t){return c.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=o.extend({reset:function e(){this._data=new s.init;this._nDataBytes=0},_append:function e(t){typeof t==="string"&&(t=l.parse(t));this._data.concat(t);this._nDataBytes+=t.sigBytes},_process:function t(n){var r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,u=o/(4*a),u=n?e.ceil(u):e.max((u|0)-this._minBufferSize,0);n=u*a;o=e.min(4*n,o);if(n){for(var c=0;c<n;c+=a){this._doProcessBlock(i,c)}c=i.splice(0,n);r.sigBytes-=o}return new s.init(c,o)},clone:function e(){var t=o.clone.call(this);t._data=this._data.clone();return t},_minBufferSize:0});r.Hasher=f.extend({cfg:o.extend(),init:function e(t){this.cfg=this.cfg.extend(t);this.reset()},reset:function e(){f.reset.call(this);this._doReset()},update:function e(t){this._append(t);this._process();return this},finalize:function e(t){t&&this._append(t);return this._doFinalize()},blockSize:16,_createHelper:function e(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function e(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=n.algo={};return n}(Math);(function(e){for(var t=k,n=t.lib,r=n.WordArray,i=n.Hasher,n=t.algo,o=[],s=[],a=function e(t){return 4294967296*(t-(t|0))|0},u=2,c=0;c<64;){var l;e:{l=u;for(var f=e.sqrt(l),h=2;h<=f;h++){if(!(l%h)){l=!1;break e}}l=!0}l&&(c<8&&(o[c]=a(e.pow(u,.5))),s[c]=a(e.pow(u,1/3)),c++);u++}var d=[],n=n.SHA256=i.extend({_doReset:function e(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function e(t,n){for(var r=this._hash.words,i=r[0],o=r[1],a=r[2],u=r[3],c=r[4],l=r[5],f=r[6],h=r[7],g=0;g<64;g++){if(g<16){d[g]=t[n+g]|0}else{var p=d[g-15],y=d[g-2];d[g]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[g-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+d[g-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&f)+s[g]+d[g];y=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&o^i&a^o&a);h=f;f=l;l=c;c=u+p|0;u=a;a=o;o=i;i=p+y|0}r[0]=r[0]+i|0;r[1]=r[1]+o|0;r[2]=r[2]+a|0;r[3]=r[3]+u|0;r[4]=r[4]+c|0;r[5]=r[5]+l|0;r[6]=r[6]+f|0;r[7]=r[7]+h|0},_doFinalize:function t(){var n=this._data,r=n.words,i=8*this._nDataBytes,o=8*n.sigBytes;r[o>>>5]|=128<<24-o%32;r[(o+64>>>9<<4)+14]=e.floor(i/4294967296);r[(o+64>>>9<<4)+15]=i;n.sigBytes=4*r.length;this._process();return this._hash},clone:function e(){var t=i.clone.call(this);t._hash=this._hash.clone();return t}});t.SHA256=i._createHelper(n);t.HmacSHA256=i._createHmacHelper(n)})(Math);(function(){var e=k,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function e(n,r){n=this._hasher=new n.init;typeof r==="string"&&(r=t.parse(r));var i=n.blockSize,o=4*i;r.sigBytes>o&&(r=n.finalize(r));r.clamp();for(var s=this._oKey=r.clone(),a=this._iKey=r.clone(),u=s.words,c=a.words,l=0;l<i;l++){u[l]^=1549556828,c[l]^=909522486}s.sigBytes=a.sigBytes=o;this.reset()},reset:function e(){var t=this._hasher;t.reset();t.update(this._iKey)},update:function e(t){this._hasher.update(t);return this},finalize:function e(t){var n=this._hasher;t=n.finalize(t);n.reset();return n.finalize(this._oKey.clone().concat(t))}})})();var b={region:"eu-west-1",service:"execute-api",defaultContentType:"application/json",defaultAcceptType:"application/json",payloadSerializerFactory:z,uriParserFactory:H,hasherFactory:C};var _=function(){function e(t){r(this,e);this.config=q({},b,t);this.payloadSerializer=this.config.payloadSerializer||this.config.payloadSerializerFactory();this.uriParser=this.config.uriParserFactory();this.hasher=this.config.hasherFactory();P(this.config.accessKeyId,"AwsSigner requires AWS AccessKeyID");P(this.config.secretAccessKey,"AwsSigner requires AWS SecretAccessKey")}i(e,[{key:"sign",value:function e(t,n){var r={request:q({},t),signDate:n||new Date,uri:this.uriParser(t.url)};E(this,r);T(this,r);I(this,r);O(this,r);x(this,r);return{Accept:r.request.headers["accept"],Authorization:r.authorization,"Content-Type":r.request.headers["content-type"],"x-amz-date":r.request.headers["x-amz-date"],"x-amz-security-token":this.config.sessionToken||undefined}}}]);return e}();function E(e,t){var r={host:t.uri.host,"content-type":e.config.defaultContentType,accept:e.config.defaultAcceptType,"x-amz-date":A(t.signDate)};t.request.method=t.request.method.toUpperCase();if(t.request.body){t.payload=t.request.body}else if(t.request.data&&e.payloadSerializer){t.payload=e.payloadSerializer(t.request.data)}else{delete r["content-type"]}t.request.headers=q(r,Object.keys(t.request.headers||{}).reduce((function(e,n){e[n.toLowerCase()]=t.request.headers[n];return e}),{}));t.sortedHeaderKeys=Object.keys(t.request.headers).sort();if(t.request.headers["content-type"]){t.request.headers["content-type"]=t.request.headers["content-type"].split(";")[0]}if(n(t.request.params)==="object"){q(t.uri.queryParams,t.request.params)}}function T(e,t){t.signedHeaders=t.sortedHeaderKeys.map((function(e){return e.toLowerCase()})).join(";");t.canonicalRequest=String(t.request.method).toUpperCase()+"\n"+encodeURI(t.uri.path)+"\n"+Object.keys(t.uri.queryParams).sort().map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.uri.queryParams[e])})).join("&")+"\n"+t.sortedHeaderKeys.map((function(e){return e.toLocaleLowerCase()+":"+t.request.headers[e]})).join("\n")+"\n\n"+t.signedHeaders+"\n"+e.hasher.hash(t.payload?t.payload:"")}function I(e,t){t.credentialScope=[A(t.signDate,true),e.config.region,e.config.service,"aws4_request"].join("/");t.stringToSign="AWS4-HMAC-SHA256"+"\n"+A(t.signDate)+"\n"+t.credentialScope+"\n"+e.hasher.hash(t.canonicalRequest)}function O(e,t){var n=e.hasher.hmac;var r=n(n(n(n("AWS4"+e.config.secretAccessKey,A(t.signDate,true),{hexOutput:false}),e.config.region,{hexOutput:false,textInput:false}),e.config.service,{hexOutput:false,textInput:false}),"aws4_request",{hexOutput:false,textInput:false});t.signature=n(r,t.stringToSign,{textInput:false})}function x(e,t){t.authorization="AWS4-HMAC-SHA256 "+"Credential="+e.config.accessKeyId+"/"+t.credentialScope+", "+"SignedHeaders="+t.signedHeaders+", "+"Signature="+t.signature}function A(e,t){var n=e.toISOString().replace(/[:\-]|\.\d{3}/g,"").substr(0,17);if(t){return n.substr(0,8)}return n}function z(){return function(e){return JSON.stringify(e)}}function H(){var e=document?document.createElement("a"):{};return function(n){e.href=n;return{protocol:e.protocol,host:e.host.replace(/^(.*):((80)|(443))$/,"$1"),path:(e.pathname.charAt(0)!=="/"?"/":"")+e.pathname,queryParams:t(e.search)}};function t(e){return/^\??(.*)$/.exec(e)[1].split("&").reduce((function(e,t){t=/^(.+)=(.*)$/.exec(t);if(t){e[t[1]]=t[2]}return e}),{})}}function C(){return{hash:function e(t,n){n=q({hexOutput:true,textInput:true},n);var e=k.SHA256(t);if(n.hexOutput){return e.toString(k.enc.Hex)}return e},hmac:function e(t,n,r){r=q({hexOutput:true,textInput:true},r);var e=k.HmacSHA256(n,t,{asBytes:true});if(r.hexOutput){return e.toString(k.enc.Hex)}return e}}}function q(e){var t=[].slice.call(arguments,1);t.forEach((function(t){if(!t||(typeof t==="undefined"?"undefined":n(t))!=="object"){return}Object.keys(t).forEach((function(r){var i=t[r];if(typeof i==="undefined"){return}if(i!==null&&(typeof i==="undefined"?"undefined":n(i))==="object"){e[r]=Array.isArray(i)?[]:{};q(e[r],i)}else{e[r]=i}}))}));return e}function P(e,t){if(typeof e==="undefined"||!e){throw new Error(t)}}var W=["size","duration","position","number","count"];var j="https://mobileanalytics.us-east-1.amazonaws.com/2014-06-05/events";var D=function(){function e(t){r(this,e);this.name="amazon";o(this,t);var n=p().session;if(n.new&&!t.test)this.logEvent({eventType:"_session.start"})}i(e,[{key:"logPageView",value:function e(t,n){var r=B(t,this.previousPage,n);K(r,this.userPoolID,this.app);this.previousPage=r.attributes}},{key:"logEvent",value:function e(t){var n=L(t);K(n,this.userPoolID,this.app)}}]);return e}();function B(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=p().session;return{eventType:"pageView",timestamp:(new Date).toISOString(),session:{id:r.id,startTimestamp:r.startTimestamp},attributes:o({referrer:document.referrer,hostname:window.location.hostname,path:e||window.location.pathname,pageUrl:e||window.location.pathname,pageName:document.title,previousPageUrl:t.pageUrl,previousPageName:t.pageName},N(n)),metrics:U(n)}}function L(e){var t=p().session;return{eventType:e.eventType||"other",timestamp:(new Date).toISOString(),session:{id:t.id,startTimestamp:t.startTimestamp},attributes:o({referrer:document.referrer,hostname:window.location.hostname,path:window.location.pathname},N(e)),metrics:U(e)}}function N(e){var t=o({},e);delete t.workflow;W.forEach((function(e){return delete t[e]}));Object.keys(t).forEach((function(e){if(e==="json"){t[e]=t[e]?JSON.stringify(t[e]):"null"}else{t[e]=t[e]!==undefined?t[e].toString():"null"}}));return t}function U(e){var t={};W.forEach((function(n){if(e[n])t[n]=e[n]}));return t}function M(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];var n={region:"us-east-1",service:"mobileanalytics",accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretKey,sessionToken:e.SessionToken};var r=new _(n);var i=r.sign(t);return i}function R(e,t){return JSON.stringify({client:{client_id:e,app_title:t.name,app_version_name:t.version||"unknown"},services:{mobile_analytics:{app_id:t.id}}})}function K(t,n,r){var i=p();t=Array.isArray(t)?t:[t];var o=F(t);u(n,(function(t){try{o.headers=M(t,o);o.headers["x-amz-Client-Context"]=R(i.id,r)}catch(n){console.error(n);return}e(o,(function(e){if(e){console.error(JSON.parse(e))}}))}))}function F(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:j;return{url:t,method:"POST",body:JSON.stringify({events:e})}}var J=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,e);this.name="google";o(this,t)}i(e,[{key:"logPageView",value:function e(t,n){var r=V(t,n,this.dimensions,this.metrics);G((function(e){e.forEach((function(e){e.send(r)}))}))}},{key:"logEvent",value:function e(t){var n=Y(t,this.dimensions,this.metrics);G((function(e){e.forEach((function(e){e.send(n)}))}))}}]);return e}();function G(e){if(window.ga){window.ga((function(){e(window.ga.getAll())}))}else{console.log(new Error("Google Analytics trackers not available"))}}function V(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var i={hitType:"pageview",page:e||window.location.pathname};return $(i,t,n,r)}function Y(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r={hitType:"event",eventCategory:e.category||"none",eventAction:e.action,eventLabel:e.label,nonInteraction:e.nonInteraction};return $(r,e,t,n)}function $(e,t,n,r){var i=e;Object.keys(n).forEach((function(e){i["dimension"+n[e]]=t[e]}));Object.keys(r).forEach((function(e){i["metric"+r[e]]=t[e]}));return i}var X=function(e){if(!e)return undefined;return k.SHA256(e).toString(k.enc.Hex)};var Q=["esri.com","esriuk.com","esri.de","esri.ca","esrifrance.fr","esri.nl","esri-portugal.pt","esribulgaria.com","esri.fi","esri.kr","esrimalaysia.com.my","esri.es","esriaustralia.com.au","esri-southafrica.com","esri.cl","esrichina.com.cn","esri.co","esriturkey.com.tr","geodata.no","esriitalia.it","esri.pl"];var Z=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.portal||{};if(e.disabled){return false}else if(navigator.doNotTrack==="1"||window.doNotTrack==="1"){return false}else if(typeof t.eueiEnabled!=="undefined"&&t.eueiEnabled===false){return false}else if(t.eueiEnabled&&t.user&&t.user.orgId===t.id){return true}else if(t.user&&!t.user.orgId&&t.ipCntryCode==="US"){return true}else if(!t.user&&t.ipCntryCode==="US"){return true}else if(Object.keys(t).length>0){return false}else{return true}};var ee=function(){function e(t){r(this,e);try{this.trackers=[];this.workflows={};this.test=t.test;this.debug=t.debug;this.disabled=!Z(t);if(this.disabled)console.log("Telemetry Disabled");if(t.portal&&t.portal.user){var n=t.portal.subscriptionInfo||{};this.setUser(t.portal.user,n.type)}else if(t.user){this.setUser(t.user)}if(!this.disabled){this._initTrackers(t)}}catch(i){console.error("Telemetry Disabled");console.error(i);this.disabled=true}}i(e,[{key:"_initTrackers",value:function e(t){if(t.amazon){var n=new D(t.amazon);this.trackers.push(n)}if(t.google){var r=new J(t.google);this.trackers.push(r)}if(!this.trackers.length)console.error(new Error("No trackers configured"))}},{key:"setUser",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Public";t=typeof t==="string"?{username:t}:t;this.user=t;this.user.accountType=n;var r=void 0;if(t.email&&t.email.split){var i=t.email.split("@")[1];r=Q.filter((function(e){return i===e})).length>0}if(r||["In House","Demo and Marketing"].indexOf(n)>-1){this.user.internalUser=true}}},{key:"logPageView",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=this.preProcess(n);if(this.debug)console.log("Tracking page view",JSON.stringify(r));else if(this.test&&!this.disabled)return r;if(!this.trackers.length||this.disabled){if(!this.disabled)console.error(new Error("Page view was not logged because no trackers are configured."));return false}else{this.trackers.forEach((function(e){try{e.logPageView(t,r)}catch(n){console.error(e.name+" tracker failed to log page view.",n)}}));return true}}},{key:"logEvent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=this.preProcess(t);if(this.debug)console.log("Tracking event",JSON.stringify(n));else if(this.test)return n;if(!this.trackers.length||this.disabled){if(!this.disabled)console.error(new Error("Event was not logged because no trackers are configured."));return false}else{this.trackers.forEach((function(e){try{e.logEvent(n)}catch(t){console.error(e.name+" tracker failed to log event",t)}}));return true}}},{key:"logError",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=o({eventType:"error"},t);this.logEvent(n)}},{key:"startWorkflow",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r={name:t,start:Date.now(),steps:[],workflowId:Math.floor((1+Math.random())*17592186044416).toString(16)};this._saveWorkflow(r);var i=o({name:t,step:"start"},n);this._logWorkflow(i);return r}},{key:"stepWorkflow",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=typeof options==="string"?r:r.details;var s=o({name:t,step:n,details:i},r);this._logWorkflow(s)}},{key:"endWorkflow",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=o({name:t,step:"finish"},n);this._logWorkflow(r)}},{key:"cancelWorkflow",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=o({name:t,step:"cancel"},n);this._logWorkflow(r)}},{key:"getWorkflow",value:function e(n){var r=t.get("TELEMETRY-WORKFLOW:"+n);if(r){var i=Date.now()-r.start;var o=30*60*1e3;if(i<o){return r}else{this._deleteWorkflow(r)}}}},{key:"_saveWorkflow",value:function e(n){t.set("TELEMETRY-WORKFLOW:"+n.name,n)}},{key:"_deleteWorkflow",value:function e(n){t.delete("TELEMETRY-WORKFLOW:"+n.name)}},{key:"_logWorkflow",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t=this.preProcess(t);var n=this.getWorkflow(t.name);if(!n){this.startWorkflow(t.name);n=this.getWorkflow(t.name)}n.steps.push(t.step);n.duration=(Date.now()-n.start)/1e3;if(["cancel","finish"].indexOf(t.step)>-1){this._deleteWorkflow(n)}else{this._saveWorkflow(n)}var r=o(t,{eventType:"workflow",category:t.name,action:t.step,label:t.details,duration:n.duration,workflowId:n.workflowId});this.logEvent(r)}},{key:"preProcess",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n={};if(this.user){n={user:X(this.user.username),org:X(this.user.orgId),lastLogin:this.user.lastLogin,userSince:this.user.created,internalUser:this.user.internalUser||false,accountType:this.user.accountType}}return o({},t,n)}}]);return e}();return ee}))}));var a=":host{display:block}";var u=e("hub_telemetry",function(){function e(e){t(this,e);this.google="UA-47337822-17"}e.prototype.initializeGoogleAnalytics=function(e){window.dataLayer=window.dataLayer||[];function t(){dataLayer.push(arguments)}t("js",new Date);t("config",e)};e.prototype.componentDidLoad=function(){this.initializeGoogleAnalytics(this.google);this.telemetry=new s({google:{dimensions:{datasetId:6,attribute:7,serviceQuery:8,searchQuery:9,objectId:10,facetValue:11}}});this.telemetry.logEvent({category:"hub-component",action:"hub-telemetry:loaded",label:this.google})};e.prototype.handleEvent=function(e){this.telemetry.logEvent(e.detail)};e.prototype.render=function(){return n(r,null,n("slot",null))};return e}());u.style=a}}}));