import{U as t}from"./p-87086a15.js";const e=(t,n,r)=>{if(1===n.length)t[n[0]]=r;else if(0!==n.length)return t[n[0]]||(t[n[0]]={}),e(t[n[0]],n.slice(1),r)},n=()=>{const t=document.cookie.match("(^|[^;]+)\\s*arcgis_hub_component_auth\\s*=\\s*([^;]+)");return t?t.pop():void 0},r=t=>{let e=new Date;e.setTime(e.getTime()+12096e5),document.cookie=`arcgis_hub_component_auth=${t.serialize()} ; expires=${e.toUTCString()} path=/`},o=()=>{document.cookie="arcgis_hub_component_auth= ; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"};function a(t,e){return null==t?"":t.length>e?t.substring(0,e-"...".length)+"...":t}const s=(e,o)=>{console.log("authenticateUser",{clientId:e,portal:o+"/sharing/rest",redirectUri:window.location.origin+"/authenticate.html"});let a=n();return new Promise(n=>{if(!a){let s=window.location.pathname,i=s.substring(0,s.lastIndexOf("/"))+"/";return t.beginOAuth2({clientId:e,portal:o+"/sharing/rest",redirectUri:`${window.location.origin}${i}authenticate.html`,popup:!0}).then(t=>{r(t),a=t.serialize(),n(a)}).catch(t=>{console.error("Hub Components auth error",t)})}n(a)})};export{s as a,o as d,n as r,e as s,a as t,r as w}