import{r as t,h as n,H as e}from"./p-1fd9320b.js";import{c as i,a as r}from"./p-74149bb1.js";var o=i((function(t){t.exports=function(){function t(t,n){var e=new XMLHttpRequest;e.addEventListener("load",(function(){n(e.responseText)})),e.open(t.method,t.url),Object.keys(t.headers).forEach((function(n){e.setRequestHeader(n,t.headers[n])})),e.send(t.body)}var n={storage:{},memory:!0,get:function(t){var n=void 0;try{n=window.localStorage&&window.localStorage.getItem(t)||this.storage[t]}catch(e){n=this.storage[t]}if(n)try{return JSON.parse(n)}catch(e){return}},set:function(t,n){n=JSON.stringify(n);try{window.localStorage.setItem(t,n)}catch(e){this.memory||(console.error("setting local storage failed, falling back to in-memory storage"),this.memory=!0),this.storage[t]=n}},delete:function(t){try{window.localStorage.removeItem(t)}catch(n){this.memory||(console.error("setting local storage failed, falling back to in-memory storage"),this.memory=!0),delete this.storage[t]}}},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};var s={method:"POST",url:"https://cognito-identity.us-east-1.amazonaws.com/",headers:{"Content-type":"application/x-amz-json-1.1"}};function a(){return{session:(e=void 0,i=n.get("TELEMETRY_SESSION"),(!i||Date.now()>i.expiration)&&(e=!0,i={id:Math.floor(17592186044416*(1+Math.random())).toString(16),startTimestamp:(new Date).toISOString()}),i.expiration=Date.now()+18e5,n.set("TELEMETRY_SESSION",i),e&&(i.new=!0),i),id:(t=n.get("TELEMETRY_CLIENT_ID"),t||(t=u()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u(),n.set("TELEMETRY_CLIENT_ID",t)),t)};var t,e,i}function u(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var c,f=function(t){var n={},e=n.lib={},i=function(){},r=e.Base={extend:function(t){i.prototype=this;var n=new i;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=e.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var n=this.words,e=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)n[i+r>>>2]|=(e[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(e.length>65535)for(r=0;r<t;r+=4)n[i+r>>>2]=e[r>>>2];else n.push.apply(n,e);return this.sigBytes+=t,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var e=[],i=0;i<n;i+=4)e.push(4294967296*t.random()|0);return new o.init(e,n)}}),s=n.enc={},a=s.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var e=[],i=0;i<t;i++){var r=n[i>>>2]>>>24-i%4*8&255;e.push((r>>>4).toString(16)),e.push((15&r).toString(16))}return e.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i+=2)e[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(e,n/2)}},u=s.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var e=[],i=0;i<t;i++)e.push(String.fromCharCode(n[i>>>2]>>>24-i%4*8&255));return e.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i++)e[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(e,n)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=e.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e=this._data,i=e.words,r=e.sigBytes,s=this.blockSize,a=r/(4*s);if(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0),r=t.min(4*(n=a*s),r),n){for(var u=0;u<n;u+=s)this._doProcessBlock(i,u);u=i.splice(0,n),e.sigBytes-=r}return new o.init(u,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});e.Hasher=f.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new h.HMAC.init(t,e).finalize(n)}}});var h=n.algo={};return n}(Math);(function(t){for(var n=f,e=(r=n.lib).WordArray,i=r.Hasher,r=n.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,c=0;c<64;){var h;t:{for(var l=t.sqrt(h=u),v=2;v<=l;v++)if(!(h%v)){h=!1;break t}h=!0}h&&(c<8&&(o[c]=a(t.pow(u,.5))),s[c]=a(t.pow(u,1/3)),c++),u++}var d=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new e.init(o.slice(0))},_doProcessBlock:function(t,n){for(var e=this._hash.words,i=e[0],r=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],h=e[7],l=0;l<64;l++){if(l<16)d[l]=0|t[n+l];else{var v=d[l-15],p=d[l-2];d[l]=((v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3)+d[l-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+d[l-16]}v=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&f)+s[l]+d[l],p=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),h=f,f=c,c=u,u=a+v|0,a=o,o=r,r=i,i=v+p|0}e[0]=e[0]+i|0,e[1]=e[1]+r|0,e[2]=e[2]+o|0,e[3]=e[3]+a|0,e[4]=e[4]+u|0,e[5]=e[5]+c|0,e[6]=e[6]+f|0,e[7]=e[7]+h|0},_doFinalize:function(){var n=this._data,e=n.words,i=8*this._nDataBytes,r=8*n.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=t.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,n.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA256=i._createHelper(r),n.HmacSHA256=i._createHmacHelper(r)})(Math),c=f.enc.Utf8,f.algo.HMAC=f.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=c.parse(n));var e=t.blockSize,i=4*e;n.sigBytes>i&&(n=t.finalize(n)),n.clamp();for(var r=this._oKey=n.clone(),o=this._iKey=n.clone(),s=r.words,a=o.words,u=0;u<e;u++)s[u]^=1549556828,a[u]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher;return t=n.finalize(t),n.reset(),n.finalize(this._oKey.clone().concat(t))}});var h={region:"eu-west-1",service:"execute-api",defaultContentType:"application/json",defaultAcceptType:"application/json",payloadSerializerFactory:function(){return function(t){return JSON.stringify(t)}},uriParserFactory:function(){var t=document?document.createElement("a"):{};return function(n){return t.href=n,{protocol:t.protocol,host:t.host.replace(/^(.*):((80)|(443))$/,"$1"),path:("/"!==t.pathname.charAt(0)?"/":"")+t.pathname,queryParams:(e=t.search,/^\??(.*)$/.exec(e)[1].split("&").reduce((function(t,n){return(n=/^(.+)=(.*)$/.exec(n))&&(t[n[1]]=n[2]),t}),{}))};var e}},hasherFactory:function(){return{hash:function(t,n){n=d({hexOutput:!0,textInput:!0},n);var e=f.SHA256(t);return n.hexOutput?e.toString(f.enc.Hex):e},hmac:function(t,n,e){e=d({hexOutput:!0,textInput:!0},e);var i=f.HmacSHA256(n,t,{asBytes:!0});return e.hexOutput?i.toString(f.enc.Hex):i}}}},l=function(){function t(n){i(this,t),this.config=d({},h,n),this.payloadSerializer=this.config.payloadSerializer||this.config.payloadSerializerFactory(),this.uriParser=this.config.uriParserFactory(),this.hasher=this.config.hasherFactory(),p(this.config.accessKeyId,"AwsSigner requires AWS AccessKeyID"),p(this.config.secretAccessKey,"AwsSigner requires AWS SecretAccessKey")}return r(t,[{key:"sign",value:function(t,n){var i,r={request:d({},t),signDate:n||new Date,uri:this.uriParser(t.url)};return function(t,n){var i={host:n.uri.host,"content-type":t.config.defaultContentType,accept:t.config.defaultAcceptType,"x-amz-date":v(n.signDate)};n.request.method=n.request.method.toUpperCase(),n.request.body?n.payload=n.request.body:n.request.data&&t.payloadSerializer?n.payload=t.payloadSerializer(n.request.data):delete i["content-type"],n.request.headers=d(i,Object.keys(n.request.headers||{}).reduce((function(t,e){return t[e.toLowerCase()]=n.request.headers[e],t}),{})),n.sortedHeaderKeys=Object.keys(n.request.headers).sort(),n.request.headers["content-type"]&&(n.request.headers["content-type"]=n.request.headers["content-type"].split(";")[0]),"object"===e(n.request.params)&&d(n.uri.queryParams,n.request.params)}(this,r),this,(i=r).signedHeaders=i.sortedHeaderKeys.map((function(t){return t.toLowerCase()})).join(";"),i.canonicalRequest=String(i.request.method).toUpperCase()+"\n"+encodeURI(i.uri.path)+"\n"+Object.keys(i.uri.queryParams).sort().map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(i.uri.queryParams[t])})).join("&")+"\n"+i.sortedHeaderKeys.map((function(t){return t.toLocaleLowerCase()+":"+i.request.headers[t]})).join("\n")+"\n\n"+i.signedHeaders+"\n"+this.hasher.hash(i.payload?i.payload:""),function(t,n){n.credentialScope=[v(n.signDate,!0),t.config.region,t.config.service,"aws4_request"].join("/"),n.stringToSign="AWS4-HMAC-SHA256\n"+v(n.signDate)+"\n"+n.credentialScope+"\n"+t.hasher.hash(n.canonicalRequest)}(this,r),function(t,n){var e=t.hasher.hmac,i=e(e(e(e("AWS4"+t.config.secretAccessKey,v(n.signDate,!0),{hexOutput:!1}),t.config.region,{hexOutput:!1,textInput:!1}),t.config.service,{hexOutput:!1,textInput:!1}),"aws4_request",{hexOutput:!1,textInput:!1});n.signature=e(i,n.stringToSign,{textInput:!1})}(this,r),function(t,n){n.authorization="AWS4-HMAC-SHA256 Credential="+t.config.accessKeyId+"/"+n.credentialScope+", SignedHeaders="+n.signedHeaders+", Signature="+n.signature}(this,r),{Accept:r.request.headers.accept,Authorization:r.authorization,"Content-Type":r.request.headers["content-type"],"x-amz-date":r.request.headers["x-amz-date"],"x-amz-security-token":this.config.sessionToken||void 0}}}]),t}();function v(t,n){var e=t.toISOString().replace(/[:\-]|\.\d{3}/g,"").substr(0,17);return n?e.substr(0,8):e}function d(t){var n=[].slice.call(arguments,1);return n.forEach((function(n){n&&"object"===(void 0===n?"undefined":e(n))&&Object.keys(n).forEach((function(i){var r=n[i];void 0!==r&&(null!==r&&"object"===(void 0===r?"undefined":e(r))?(t[i]=Array.isArray(r)?[]:{},d(t[i],r)):t[i]=r)}))})),t}function p(t,n){if(void 0===t||!t)throw new Error(n)}var y=["size","duration","position","number","count"],w="https://mobileanalytics.us-east-1.amazonaws.com/2014-06-05/events",m=function(){function t(n){i(this,t),this.name="amazon",o(this,n),a().session.new&&!n.test&&this.logEvent({eventType:"_session.start"})}return r(t,[{key:"logPageView",value:function(t,n){var e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a().session;return{eventType:"pageView",timestamp:(new Date).toISOString(),session:{id:i.id,startTimestamp:i.startTimestamp},attributes:o({referrer:document.referrer,hostname:window.location.hostname,path:t||window.location.pathname,pageUrl:t||window.location.pathname,pageName:document.title,previousPageUrl:n.pageUrl,previousPageName:n.pageName},g(e)),metrics:S(e)}}(t,this.previousPage,n);b(e,this.userPoolID,this.app),this.previousPage=e.attributes}},{key:"logEvent",value:function(t){b(function(t){var n=a().session;return{eventType:t.eventType||"other",timestamp:(new Date).toISOString(),session:{id:n.id,startTimestamp:n.startTimestamp},attributes:o({referrer:document.referrer,hostname:window.location.hostname,path:window.location.pathname},g(t)),metrics:S(t)}}(t),this.userPoolID,this.app)}}]),t}();function g(t){var n=o({},t);return delete n.workflow,y.forEach((function(t){return delete n[t]})),Object.keys(n).forEach((function(t){n[t]="json"===t?n[t]?JSON.stringify(n[t]):"null":void 0!==n[t]?n[t].toString():"null"})),n}function S(t){var n={};return y.forEach((function(e){t[e]&&(n[e]=t[e])})),n}function b(e,i,r){var u=a(),c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return{url:n,method:"POST",body:JSON.stringify({events:t})}}(e=Array.isArray(e)?e:[e]);!function(e,i){var r=n.get("TELEMETRY_COGNITO_CREDENTIALS");if(r&&Date.now()/1e3<r.Expiration)return i(r);!function(n,e){var i=o({},s);i.headers["X-Amz-Target"]="AWSCognitoIdentityService.GetId",i.body=JSON.stringify({IdentityPoolId:n}),t(i,(function(n){!function(n,e){var i=o({},s);i.headers["X-Amz-Target"]="AWSCognitoIdentityService.GetCredentialsForIdentity",i.body=JSON.stringify({IdentityId:n.IdentityId}),t(i,(function(t){var n=JSON.parse(t);e(n.Credentials)}))}(JSON.parse(n),e)}))}(e,(function(t){n.set("TELEMETRY_COGNITO_CREDENTIALS",t),i(t)}))}(i,(function(n){try{c.headers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],e={region:"us-east-1",service:"mobileanalytics",accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken},i=new l(e),r=i.sign(n);return r}(n,c),c.headers["x-amz-Client-Context"]=function(t,n){return JSON.stringify({client:{client_id:t,app_title:n.name,app_version_name:n.version||"unknown"},services:{mobile_analytics:{app_id:n.id}}})}(u.id,r)}catch(e){return void console.error(e)}t(c,(function(t){t&&console.error(JSON.parse(t))}))}))}var k=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.name="google",o(this,n)}return r(t,[{key:"logPageView",value:function(t,n){var e=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={hitType:"pageview",page:t||window.location.pathname};return T(r,n,e,i)}(t,n,this.dimensions,this.metrics);E((function(t){t.forEach((function(t){t.send(e)}))}))}},{key:"logEvent",value:function(t){var n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={hitType:"event",eventCategory:t.category||"none",eventAction:t.action,eventLabel:t.label,nonInteraction:t.nonInteraction};return T(i,t,n,e)}(t,this.dimensions,this.metrics);E((function(t){t.forEach((function(t){t.send(n)}))}))}}]),t}();function E(t){window.ga?window.ga((function(){t(window.ga.getAll())})):console.log(new Error("Google Analytics trackers not available"))}function T(t,n,e,i){var r=t;return Object.keys(e).forEach((function(t){r["dimension"+e[t]]=n[t]})),Object.keys(i).forEach((function(t){r["metric"+i[t]]=n[t]})),r}var O=function(t){if(t)return f.SHA256(t).toString(f.enc.Hex)},I=["esri.com","esriuk.com","esri.de","esri.ca","esrifrance.fr","esri.nl","esri-portugal.pt","esribulgaria.com","esri.fi","esri.kr","esrimalaysia.com.my","esri.es","esriaustralia.com.au","esri-southafrica.com","esri.cl","esrichina.com.cn","esri.co","esriturkey.com.tr","geodata.no","esriitalia.it","esri.pl"];return function(){function t(n){i(this,t);try{this.trackers=[],this.workflows={},this.test=n.test,this.debug=n.debug,this.disabled=!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.portal||{};return!(t.disabled||"1"===navigator.doNotTrack||"1"===window.doNotTrack||void 0!==n.eueiEnabled&&!1===n.eueiEnabled||(!n.eueiEnabled||!n.user||n.user.orgId!==n.id)&&(!n.user||n.user.orgId||"US"!==n.ipCntryCode)&&(n.user||"US"!==n.ipCntryCode)&&Object.keys(n).length>0)}(n),this.disabled&&console.log("Telemetry Disabled"),n.portal&&n.portal.user?this.setUser(n.portal.user,(n.portal.subscriptionInfo||{}).type):n.user&&this.setUser(n.user),this.disabled||this._initTrackers(n)}catch(e){console.error("Telemetry Disabled"),console.error(e),this.disabled=!0}}return r(t,[{key:"_initTrackers",value:function(t){if(t.amazon){var n=new m(t.amazon);this.trackers.push(n)}if(t.google){var e=new k(t.google);this.trackers.push(e)}this.trackers.length||console.error(new Error("No trackers configured"))}},{key:"setUser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Public";this.user=t="string"==typeof t?{username:t}:t,this.user.accountType=n;var e=void 0;if(t.email&&t.email.split){var i=t.email.split("@")[1];e=I.filter((function(t){return i===t})).length>0}(e||["In House","Demo and Marketing"].indexOf(n)>-1)&&(this.user.internalUser=!0)}},{key:"logPageView",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.preProcess(n);if(this.debug)console.log("Tracking page view",JSON.stringify(e));else if(this.test&&!this.disabled)return e;return!this.trackers.length||this.disabled?(this.disabled||console.error(new Error("Page view was not logged because no trackers are configured.")),!1):(this.trackers.forEach((function(n){try{n.logPageView(t,e)}catch(i){console.error(n.name+" tracker failed to log page view.",i)}})),!0)}},{key:"logEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.preProcess(t);if(this.debug)console.log("Tracking event",JSON.stringify(n));else if(this.test)return n;return!this.trackers.length||this.disabled?(this.disabled||console.error(new Error("Event was not logged because no trackers are configured.")),!1):(this.trackers.forEach((function(t){try{t.logEvent(n)}catch(e){console.error(t.name+" tracker failed to log event",e)}})),!0)}},{key:"logError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o({eventType:"error"},t);this.logEvent(n)}},{key:"startWorkflow",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={name:t,start:Date.now(),steps:[],workflowId:Math.floor(17592186044416*(1+Math.random())).toString(16)};this._saveWorkflow(e);var i=o({name:t,step:"start"},n);return this._logWorkflow(i),e}},{key:"stepWorkflow",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="string"==typeof options?e:e.details,r=o({name:t,step:n,details:i},e);this._logWorkflow(r)}},{key:"endWorkflow",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=o({name:t,step:"finish"},n);this._logWorkflow(e)}},{key:"cancelWorkflow",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=o({name:t,step:"cancel"},n);this._logWorkflow(e)}},{key:"getWorkflow",value:function(t){var e=n.get("TELEMETRY-WORKFLOW:"+t);if(e){if(Date.now()-e.start<18e5)return e;this._deleteWorkflow(e)}}},{key:"_saveWorkflow",value:function(t){n.set("TELEMETRY-WORKFLOW:"+t.name,t)}},{key:"_deleteWorkflow",value:function(t){n.delete("TELEMETRY-WORKFLOW:"+t.name)}},{key:"_logWorkflow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=this.preProcess(t);var n=this.getWorkflow(t.name);n||(this.startWorkflow(t.name),n=this.getWorkflow(t.name)),n.steps.push(t.step),n.duration=(Date.now()-n.start)/1e3,["cancel","finish"].indexOf(t.step)>-1?this._deleteWorkflow(n):this._saveWorkflow(n);var e=o(t,{eventType:"workflow",category:t.name,action:t.step,label:t.details,duration:n.duration,workflowId:n.workflowId});this.logEvent(e)}},{key:"preProcess",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return this.user&&(n={user:O(this.user.username),org:O(this.user.orgId),lastLogin:this.user.lastLogin,userSince:this.user.created,internalUser:this.user.internalUser||!1,accountType:this.user.accountType}),o({},t,n)}}]),t}()}()}));const s=class{constructor(n){t(this,n),this.google="UA-47337822-17"}initializeGoogleAnalytics(t){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",t)}componentDidLoad(){this.initializeGoogleAnalytics(this.google),this.telemetry=new o({google:{dimensions:{datasetId:6,attribute:7,serviceQuery:8,searchQuery:9,objectId:10,facetValue:11}}}),this.telemetry.logEvent({category:"hub-component",action:"hub-telemetry:loaded",label:this.google})}handleEvent(t){this.telemetry.logEvent(t.detail)}render(){return n(e,null,n("slot",null))}};s.style=":host{display:block}";export{s as hub_telemetry}