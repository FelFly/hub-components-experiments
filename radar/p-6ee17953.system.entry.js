var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<r;t++)for(var a=arguments[t],n=0,l=a.length;n<l;n++,o++)i[o]=a[n];return i};System.register(["./p-bda334d9.system.js","./p-efd827df.system.js","./p-adc488b3.system.js","./p-f6d2a683.system.js"],(function(e){"use strict";var t,r,i,o,a,n,l,s,d,c;return{setters:[function(e){t=e.r;r=e.c;i=e.h;o=e.g;a=e.H},function(){},function(e){n=e.n;l=e.p;s=e.q;d=e.r},function(e){c=e.U}],execute:function(){var p=':host{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Avenir Next W01", "Avenir Next W00", "Avenir Next", "Avenir", "Helvetica Neue", sans-serif}#drop-area form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;text-align:center;width:100%;height:100%;padding:50px 0px;margin:0px;-ms-flex-align:baseline;align-items:baseline;padding-left:50px;border:2px dashed lightgray;border-radius:4px;overflow:scroll;background-color:#DDD}#drop-area form p{margin:0px;color:#333}#drop-area form.highlight{border:2px solid green;background:rgba(0, 128, 0, 0.1)}#drop-area form #fileElem{display:none}#drop-area .retry{color:white;background-color:#007ac2;font-size:15px;height:30px;margin-top:20px;padding:8px 18px 0px 18px;cursor:pointer}#drop-area .retry:hover{background-color:#0069b1}@media (min-width: 768px) and (max-width: 991.98px){#drop-area #gallery{grid-template-columns:calc(50% - 1.5ch) calc(50% - 1.5ch)}}@media (min-width: 992px) and (max-width: 1199.98px){#drop-area #gallery{grid-template-columns:calc(33.33% - 2ch) calc(33.33% - 2ch) calc(33.33% - 2ch)}}@media (min-width: 1200px){#drop-area #gallery{grid-template-columns:calc(25% - 2.28ch) calc(25% - 2.28ch) calc(25% - 2.28ch) calc(25% - 2.28ch)}}';var h=e("drop_area",function(){function e(e){var i=this;t(this,e);this.allowedTypes=["image/*"];this.highlighted=false;this.handleDrop=function(e){var t=e.dataTransfer;var r=t.files;i.handleFiles(r)};this.handleFiles=function(e){e=__spreadArrays(e);console.log("Handle Files",e);i.onFilesSubmitted.emit(e)};this.onFilesSubmitted=r(this,"onFilesSubmitted",7)}e.prototype.componentDidLoad=function(){var e=this;["dragenter","dragover","dragleave","drop"].forEach((function(t){e.dropArea.addEventListener(t,e.preventDefaults,false);document.body.addEventListener(t,e.preventDefaults,false)}));["dragenter","dragover"].forEach((function(t){e.dropArea.addEventListener(t,(function(){return e.highlighted=true}),false)}));["dragleave","drop"].forEach((function(t){e.dropArea.addEventListener(t,(function(){return e.highlighted=false}),false)}));this.dropArea.addEventListener("drop",this.handleDrop,false)};e.prototype.preventDefaults=function(e){e.preventDefault();e.stopPropagation()};e.prototype.render=function(){var e=this;return i("div",{id:"drop-area"},i("form",{class:{highlight:this.highlighted}},i("h3",null,"Drag Files to Upload"),i("p",null,"Maximum Size: 200 gb "),i("p",null,"Supported types: Spreadsheet CSV, Excel, Shapefile, GeoJSON, PDF, Word Doc, Images"),i("input",{type:"file",id:"fileElem",multiple:true,accept:this.allowedTypes.join(","),onChange:function(t){return e.handleFiles(t.target.files)}}),i("label",{class:"button retry",htmlFor:"fileElem"},"Browse")))};Object.defineProperty(e.prototype,"dropArea",{get:function(){return o(this)},enumerable:true,configurable:true});return e}());h.style=p;var u=":host{display:block}";var f=e("hub_upload_file",function(){function e(e){t(this,e);this.clientid="WXC842NRBVB6NZ2r";this.portal="https://www.arcgis.com";this.editors=[]}e.prototype.componentDidLoad=function(){var e=c.deserialize(this.session);this.uploadItem(e)};e.prototype.uploadItem=function(e){var t=this;n({item:{title:this.file.name,type:this.itemType},file:this.file,overwrite:false,multipart:true,async:true,filename:this.file.name,authentication:e}).then((function(r){console.log("Created Item",r);l({id:r.id,file:t.file,partNum:1,authentication:e}).then((function(i){console.log("addItemPart",i);s({id:r.id,authentication:e,params:{title:t.file.name,type:t.itemType}}).then((function(e){console.log("commitItemUpload",e);t.checkStatus(e.id)}))}))})).catch((function(e){console.error("uploadItem error",e);t.showError(e.message)}))};e.prototype.showError=function(e){this.editors=[i("calcite-notice",{color:"red",width:"full",scale:"s",active:true},i("div",{slot:"notice-title"},"Upload Error: ",this.file.name),i("div",{slot:"notice-message"},e))]};e.prototype.checkStatus=function(e){var t=this;var r=c.deserialize(this.session);d({id:e,authentication:r}).then((function(r){console.log("Check Status",r);if(r.status=="completed"){t.editItem(e)}else{setTimeout((function(){t.checkStatus(e)}),1e3)}}))};e.prototype.editItem=function(e){this.editors=[i("hub-metadata-editor",{item:e})]};e.prototype.render=function(){return i(a,null,i("slot",null),this.editors.length==0?i("calcite-loader",{text:"Fetching data...","is-active":true}):this.editors)};return e}());f.style=u}}}));