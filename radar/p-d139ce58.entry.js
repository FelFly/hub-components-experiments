import{r as e,c as t,h as i,H as a,g as s}from"./p-1fd9320b.js";import{g as o}from"./p-7bc17319.js";import{g as c}from"./p-01f41a03.js";import{c as r,e as n,i as l,s as h,a as u,f as d,h as f,n as b,j as p,r as x,g}from"./p-e88c8ca5.js";const w=class{constructor(i){e(this,i),this.activeDate=new Date,this.locale="en-US",this.calciteDateSelect=t(this,"calciteDateSelect",7),this.calciteActiveDateChange=t(this,"calciteActiveDateChange",7)}keyDownHandler(e){const t="rtl"===this.el.dir;switch(c(e.key)){case"ArrowUp":e.preventDefault(),this.addDays(-7);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1);break;case"ArrowDown":e.preventDefault(),this.addDays(7);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1);break;case"PageUp":e.preventDefault(),this.addMonths(-1);break;case"PageDown":e.preventDefault(),this.addMonths(1);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":e.preventDefault(),this.calciteDateSelect.emit(this.activeDate);break;case"Tab":this.activeFocus=!1}}disableActiveFocus(){this.activeFocus=!1}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),s=r(this.locale),o=n(this.locale,"s"===this.scale?"narrow":"short"),c=this.getCurrentMonthDays(e,t),u=this.getPrevMonthdays(e,t,s),d=this.getNextMonthDays(e,t,s),f=[...u.map(a=>{const s=new Date(t,e-1,a);return i("calcite-date-day",{scale:this.scale,day:a,disabled:!l(s,this.min,this.max),selected:h(s,this.selectedDate),onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),locale:this.locale})}),...c.map(a=>{const s=new Date(t,e,a),o=h(s,this.activeDate);return i("calcite-date-day",{scale:this.scale,day:a,disabled:!l(s,this.min,this.max),selected:h(s,this.selectedDate),active:o,onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),locale:this.locale,ref:e=>{o&&this.activeFocus&&(null==e||e.focus())},"current-month":!0})}),...d.map(a=>{const s=new Date(t,e+1,a);return i("calcite-date-day",{scale:this.scale,day:a,disabled:!l(s,this.min,this.max),selected:h(s,this.selectedDate),onCalciteDaySelect:()=>this.calciteDateSelect.emit(s),locale:this.locale})})],b=[];for(let i=0;i<f.length;i+=7)b.push(f.slice(i,i+7));return i(a,null,i("div",{class:"calender",role:"grid"},i("div",{class:"week-headers",role:"row"},o.map(e=>i("span",{class:"week-header",role:"columnheader"},e))),b.map(e=>i("div",{class:"week-days",role:"row"},e))))}addMonths(e){const t=new Date(this.activeDate);t.setMonth(this.activeDate.getMonth()+e),this.calciteActiveDateChange.emit(u(t,this.min,this.max)),this.activeFocus=!0}addDays(e=0){const t=new Date(this.activeDate);t.setDate(this.activeDate.getDate()+e),this.calciteActiveDateChange.emit(u(t,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(e,t,i){const a=new Date(t,e,0),s=a.getDate(),o=[];if(a.getDay()-6===i)return o;for(let c=a.getDay();c>=i;c--)o.push(s-c);return o}getCurrentMonthDays(e,t){const i=new Date(t,e+1,0).getDate(),a=[];for(let s=0;s<i;s++)a.push(s+1);return a}getNextMonthDays(e,t,i){const a=new Date(t,e+1,0).getDay(),s=[];if(a===(i+6)%7)return s;for(let o=0;o<(6-(a-i))%7;o++)s.push(o+1);return s}get el(){return s(this)}};w.style=":host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.calender{padding-bottom:4px}.week-headers{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;border-top:1px solid var(--calcite-ui-border-3);padding:0 4px}.week-header{color:var(--calcite-ui-text-3);font-weight:600;width:calc(100% / 7);text-align:center}:host([scale=s]) .week-header{font-size:12px;padding:16px 0 16px 0}:host([scale=m]) .week-header{font-size:12px;padding:24px 0 20px 0}:host([scale=l]) .week-header{font-size:14px;padding:32px 0 24px 0}.week-days{outline:none;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:0 3px}";const m=class{constructor(i){e(this,i),this.calciteActiveDateChange=t(this,"calciteActiveDateChange",7)}render(){const e=this.activeDate.getMonth(),t=d(this.locale)[e],s=f(this.activeDate,this.locale),c="l"===this.scale?"m":"s",r=o(this.el),n=u(b(this.activeDate),this.min,this.max),l=u(p(this.activeDate),this.min,this.max);return i(a,{dir:r},i("div",{class:"header","aria-hidden":"true"},i("button",{class:"chevron","aria-label":this.prevMonthLabel,disabled:l.getMonth()===e,onClick:()=>this.calciteActiveDateChange.emit(l)},i("calcite-icon",{icon:"chevron-left",scale:c,mirrored:!0,dir:r})),i("div",{class:"text"},i("span",{class:"month",role:"heading"},t),i("input",{class:"year",type:"text",inputmode:"numeric",maxlength:"4",minlength:"4",pattern:"\\d*",value:""+s.slice(-4),onKeyDown:e=>this.onYearKey(e),onChange:e=>this.setYear(e.target.value),ref:e=>this.yearInput=e})),i("button",{class:"chevron","aria-label":this.nextMonthLabel,disabled:n.getMonth()===e,onClick:()=>this.calciteActiveDateChange.emit(n)},i("calcite-icon",{icon:"chevron-right",scale:c,mirrored:!0,dir:r}))))}onYearKey(e){const t=e.target.value;switch(c(e.key)){case"ArrowDown":e.preventDefault(),this.setYear(t,-1);break;case"ArrowUp":e.preventDefault(),this.setYear(t,1)}}setYear(e,t=0){const{min:i,max:a,activeDate:s,locale:o,yearInput:c}=this,r=parseInt(x(e)),n=r.toString().length,l=g(o).buddhist?543:0,h=!isNaN(r)&&r-l+t,d=h&&(!i||i.getFullYear()<=h)&&(!a||a.getFullYear()>=h);if(h&&d&&n===e.length&&n>3){const e=new Date(s);e.setFullYear(h);const t=u(e,i,a);this.calciteActiveDateChange.emit(t),c.value=f(t,o).slice(-4)}else c.value=f(s,o).slice(-4)}get el(){return s(this)}};m.style=":host([hidden]){display:none}:host-context([theme=dark]){--calcite-ui-blue-1:#00A0FF;--calcite-ui-blue-2:#0087D7;--calcite-ui-blue-3:#47BBFF;--calcite-ui-green-1:#36DA43;--calcite-ui-green-2:#11AD1D;--calcite-ui-green-3:#44ED51;--calcite-ui-yellow-1:#FFC900;--calcite-ui-yellow-2:#F4B000;--calcite-ui-yellow-3:#FFE24D;--calcite-ui-red-1:#FE583E;--calcite-ui-red-2:#F3381B;--calcite-ui-red-3:#FF7465;--calcite-ui-background:#202020;--calcite-ui-foreground-1:#2b2b2b;--calcite-ui-foreground-2:#353535;--calcite-ui-foreground-3:#404040;--calcite-ui-text-1:#ffffff;--calcite-ui-text-2:#bfbfbf;--calcite-ui-text-3:#9f9f9f;--calcite-ui-border-1:#4a4a4a;--calcite-ui-border-2:#404040;--calcite-ui-border-3:#353535;--calcite-ui-border-4:#757575;--calcite-ui-border-5:#9f9f9f}.header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:0 3px}:host([scale=s]) .text{font-size:14px}:host([scale=s]) .chevron{height:38px}:host([scale=m]) .text{font-size:16px}:host([scale=m]) .chevron{height:48px}:host([scale=l]) .text{font-size:18px}:host([scale=l]) .chevron{height:64px}.chevron{color:var(--calcite-ui-text-2);-ms-flex-positive:0;flex-grow:0;width:calc(100% / 7);-webkit-box-sizing:content-box;box-sizing:content-box;outline:none;padding:0 4px;margin:0 -3px;border:none;background-color:var(--calcite-ui-foreground-1);cursor:pointer;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.chevron:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:-2px}.chevron:hover,.chevron:focus{fill:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-2)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[disabled]{pointer-events:none;opacity:0}.text{-ms-flex:1 1 auto;flex:1 1 auto;display:block;line-height:1;margin:auto 0;text-align:center}.month,.year{color:var(--calcite-ui-text-1);background:var(--calcite-ui-foreground-1);font-size:inherit;font-weight:500;margin:0 4px}.year{font-family:inherit;text-align:center;border:none;width:3em;padding:0;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.year:hover{-webkit-transition:outline-color 100ms ease-in-out;transition:outline-color 100ms ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:2px}";export{w as calcite_date_month,m as calcite_date_month_header}