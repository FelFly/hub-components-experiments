System.register(["./p-723eb060.system.js"],(function(e){"use strict";var t;return{setters:[function(e){t=e.U}],execute:function(){e("t",u);var n=e("s",(function(e,t,r){if(t.length===1){e[t[0]]=r}else if(t.length===0);else{if(e[t[0]])return n(e[t[0]],t.slice(1),r);else{e[t[0]]={};return n(e[t[0]],t.slice(1),r)}}}));var r=e("r",(function(){var e=document.cookie.match("(^|[^;]+)\\s*"+"arcgis_hub_component_auth"+"\\s*=\\s*([^;]+)");return e?e.pop():undefined}));var i=e("w",(function(e){var t=new Date;t.setTime(t.getTime()+14*24*60*60*1e3);document.cookie="arcgis_hub_component_auth="+e.serialize()+" ; expires="+t.toUTCString()+" path=/"}));var o=e("d",(function(){document.cookie="arcgis_hub_component_auth= ; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}));function u(e,t){var n="...";if(e===undefined||e===null){return""}else if(e.length>t){return e.substring(0,t-n.length)+n}else{return e}}var a=e("a",(function(e,n){console.log("authenticateUser",{clientId:e,portal:n+"/sharing/rest",redirectUri:window.location.origin+"/authenticate.html"});var o=r();return new Promise((function(r,u){if(!o){var a=window.location.pathname;var c=a.substring(0,a.lastIndexOf("/"))+"/";return t.beginOAuth2({clientId:e,portal:n+"/sharing/rest",redirectUri:""+window.location.origin+c+"authenticate.html",popup:true}).then((function(e){i(e);o=e.serialize();r(o)})).catch((function(e){console.error("Hub Components auth error",e)}))}else{r(o)}}))}))}}}));