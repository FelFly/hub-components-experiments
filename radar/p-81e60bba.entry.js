import{r as t,c as s,h as i,H as e,g as h}from"./p-1fd9320b.js";import{g as o}from"./p-7bc17319.js";import{g as r}from"./p-01f41a03.js";const n=class{constructor(i){t(this,i),this.scale="m",this.numbered=!1,this.icon=!1,this.layout="horizontal",this.items=[],this.sortedItems=[],this.calciteStepperItemHasChanged=s(this,"calciteStepperItemHasChanged",7)}contentWatcher(){this.updateContent(this.requestedContent)}connectedCallback(){["horizontal","vertical"].includes(this.layout)||(this.layout="horizontal"),["s","m","l"].includes(this.scale)||(this.scale="m"),[!0,!1].includes(this.numbered)||(this.numbered=!1),[!0,!1].includes(this.icon)||(this.icon=!1)}componentDidLoad(){this.currentPosition||this.calciteStepperItemHasChanged.emit({position:0})}render(){const t=o(this.el);return i(e,{dir:t},i("slot",null),"horizontal"===this.layout?i("div",{class:"stepper-content",ref:t=>this.stepperContentContainer=t}):null)}calciteStepperItemKeyEvent(t){let s=t.detail.item,i=t.target,e=0===this.itemIndex(i),h=this.itemIndex(i)===this.sortedItems.length-1;switch(r(s.key)){case"ArrowDown":case"ArrowRight":h?this.focusFirstItem():this.focusNextItem(i);break;case"ArrowUp":case"ArrowLeft":e?this.focusLastItem():this.focusPrevItem(i);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem()}}registerItem(t){const s={item:t.target,position:t.detail.position,content:t.detail.content};null!==s.content&&s.item.active&&(this.requestedContent=[s.content]),this.items.includes(s)||this.items.push(s),this.sortedItems=this.sortItems()}updateItem(t){t.detail.content&&(this.requestedContent=t.detail.content.length>0?t.detail.content:[t.detail.content]),this.currentPosition=t.detail.position,this.calciteStepperItemHasChanged.emit({position:this.currentPosition})}async nextStep(){this.currentPosition=this.currentPosition+1<this.items.length?this.currentPosition+1:this.currentPosition,this.emitChangedItem()}async prevStep(){this.currentPosition=this.currentPosition-1>=0?this.currentPosition-1:this.currentPosition,this.emitChangedItem()}async goToStep(t){this.currentPosition=t-1,this.emitChangedItem()}async startStep(){this.currentPosition=0,this.emitChangedItem()}async endStep(){this.currentPosition=this.items.length-1,this.emitChangedItem()}emitChangedItem(){this.calciteStepperItemHasChanged.emit({position:this.currentPosition})}focusFirstItem(){this.focusElement(this.sortedItems[0])}focusLastItem(){this.focusElement(this.sortedItems[this.sortedItems.length-1])}focusNextItem(t){const s=this.itemIndex(t);this.focusElement(this.sortedItems[s+1]||this.sortedItems[0])}focusPrevItem(t){const s=this.itemIndex(t);this.focusElement(this.sortedItems[s-1]||this.sortedItems[this.sortedItems.length-1])}itemIndex(t){return this.sortedItems.indexOf(t)}focusElement(t){t.focus()}sortItems(){let t=Array.from(this.items).filter(t=>!t.item.disabled).sort((t,s)=>t.position-s.position).map(t=>t.item);return[...Array.from(new Set(t))]}updateContent(t){this.stepperContentContainer&&(this.stepperContentContainer.innerHTML="",this.stepperContentContainer.append(...t))}get el(){return h(this)}static get watchers(){return{requestedContent:["contentWatcher"]}}};n.style=":host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:stretch;align-items:stretch;width:100%;min-width:100%}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column;-ms-flex:1 auto auto;flex:1 auto auto}:host .stepper-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;min-width:100%}";export{n as calcite_stepper}