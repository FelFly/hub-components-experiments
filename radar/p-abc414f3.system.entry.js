System.register(["./p-bda334d9.system.js","./p-efd827df.system.js","./p-f6d2a683.system.js","./p-685036c5.system.js"],(function(e){"use strict";var t,o,s,i;return{setters:[function(e){t=e.r;o=e.c;s=e.h},function(){},function(){},function(e){i=e.a}],execute:function(){var l=":host{display:block}";var n=1024;var r={"image/*":"Image","application/pdf":"PDF","text/csv":"CSV"};var a=e("hub_upload",function(){function e(e){t(this,e);this.clientid="WXC842NRBVB6NZ2r";this.portal="https://www.arcgis.com";this.uploads=[];this.onUploadCompleted=o(this,"onUploadCompleted",7)}e.prototype.fileHandler=function(e){var t=this;console.log("hubUpload fileHandler",e);var o=e.detail;i(this.clientid,this.portal).then((function(e){t.session=e;t.handleFiles(o)}));return true};e.prototype.handleFiles=function(e){console.log("hubUpload: handleFiles",e);for(var t=0;t<e.length;t++){this.processFile(e[t])}};e.prototype.processFile=function(e){console.log("hubUpload#processFile");var t=this.getFileType(e.type);if(!this.checkFileSize(e.size)){console.error("Maximum file size exceeded. Max file size is: "+n);return false}else if(!t){console.error("File type is not allowed");return false}return this.uploadFile(e,t)};e.prototype.checkFileSize=function(e){return e/n/n<=n};e.prototype.getFileType=function(e){var t=null;Object.keys(r).map((function(o){console.log("mimeType",[e,o,e.match(o)]);var s=o.replace("/*",".*");if(e.match(s)&&e.match(o).length>0){t=r[o]}}));return t};e.prototype.uploadFile=function(e,t){this.uploads.push([e,t])};e.prototype.uploadList=function(e){var t=this;console.log("hubUpload#uploadList");var o=e.map((function(e){return s("hub-upload-file",{file:e[0],session:t.session,itemType:e[1]})}));console.log("... uploadList",o);return o};e.prototype.render=function(){var e=this;if(this.uploads.length==0){return s("div",{class:"file-upload"},s("drop-area",{allowedTypes:Object.keys(r)}))}else{return s("div",{class:"status",ref:function(t){return e.statusEl=t}},this.uploadList(this.uploads))}};return e}());a.style=l}}}));